<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Kai Wu | Camera models</title>
  <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design.
">

  <link rel="shortcut icon" href="//imkaywu.github.io/assets/img/favicon.ico">
  <link rel="stylesheet" href="//imkaywu.github.io/assets/css/main.css">
  <link rel="canonical" href="//imkaywu.github.io/blog/2017/01/camera-model/">
</head>

  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML'></script>

  <body>

    <header class="site-header">

  <div class="wrapper">

    
    <span class="site-title">
        
        <strong>Kai</strong> Wu
    </span>
    

    <nav class="site-nav">

      <div class="trigger">
        <!-- About -->
        <a class="page-link" href="//imkaywu.github.io/">about</a>

        <!-- Blog -->
        <a class="page-link" href="//imkaywu.github.io/blog/">blog</a>

        <!-- Pages -->
        
          
        
          
            <a class="page-link" href="//imkaywu.github.io/code/">code</a>
          
        
          
        
          
            <a class="page-link" href="//imkaywu.github.io/links/">links</a>
          
        
          
        
          
            <a class="page-link" href="//imkaywu.github.io/projects/">projects</a>
          
        
          
            <a class="page-link" href="//imkaywu.github.io/tutorials/">tutorials</a>
          
        
          
        
          
        
          
        
          
        

        <!-- CV link -->
        <!-- <a class="page-link" href="//imkaywu.github.io/assets/pdf/CV.pdf">vitae</a> -->

      </div>
    </nav>

  </div>

</header>



    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Camera models</h1>
    <p class="post-meta">January 17, 2017</p>
  </header>

  <article class="post-content">
    <p>This post give an introduction to various camera models, and specifically focuses on the pinhole camera model.</p>

<h3 id="camera-models">Camera models</h3>

<h4 id="thin-lens-model">Thin Lens Model</h4>

<p>Most cameras use a lens to focus light onto the image plane so that enough light can be captured in a short period of time. Lens models can be quite complex, however, we can consider the simplist case, known as the thin lens model. In this model, light emmited from a single scene point travelling along different paths converge at a point behind the lens. This phenomena is governed by focus length, which is defined as the distance behind the lens to which rays from infinitely distant source converge in focus.</p>

<div class="img_row">
    <img class="col three" src="/assets/img/research/cv/thin_lens_model.png" alt="thin lens model" title="thin lens model" />
</div>

<p>If <script type="math/tex">z_1</script> is the distance from the center of the lens to a surface point, then for a focal length <script type="math/tex">\|f\|</script>, the rays from that surface point will be in focus at a distance <script type="math/tex">z_0</script> behind the lens center, where <script type="math/tex">z_0</script>, and <script type="math/tex">z_1</script> will satisfy the thin lens equation:</p>

<p>\[\frac{1}{|f|}=\frac{1}{z_0}+\frac{1}{z_1} \]</p>

<h4 id="pinhole-camera-model">Pinhole Camera Model</h4>

<p>A pinhole camera is an idealization of the thin lens as aperture shrinks to zero. Light from a point travels along a single straight path through a pinhole onto the image plane. The object is imaged upside-down on the image plane.</p>

<div class="img_row">
    <img class="col three" src="/assets/img/research/cv/pinhole_camera_model.png" alt="pinhole camera model" title="pinhole camera model" />
</div>

<h3 id="camera-projections">Camera projections</h3>

<h4 id="perspective-projections">Perspective Projections</h4>

<p>Consider a point <script type="math/tex">\mathbf{X}(X, Y, Z)</script> in 3D space with tthe camera center at the origin. The projection onto the image plane is <script type="math/tex">\mathbf{x}(x, y, z)</script>, where <script type="math/tex">x = \frac{f}{Z}X</script>. This is <strong>perspective projection</strong>.</p>

<div class="img_row">
    <img class="col three" src="/assets/img/research/cv/perspective_projection.png" alt="perspective projection" title="perspective projection" />
</div>

<p>Two important properties:</p>

<ul>
  <li>Perspective projection preserves linearity;</li>
  <li>Perspective projection does not preserve parallelism.</li>
</ul>

<h4 id="orthographic-projections">Orthographic Projections</h4>

<p>For objects sufficiently far away, rays are nearly parallel, and variation in <script type="math/tex">Z</script> is insignificant.</p>

<p>In this case, <script type="math/tex">y = \alpha Y</script>, for some real scalar <script type="math/tex">\alpha</script>. This is <strong>orthographic projection</strong>.</p>

<div class="img_row">
    <img class="col three" src="/assets/img/research/cv/orthographic_projection.png" alt="orthographic projection" title="orthographic projection" />
</div>

<h3 id="camera-coordinate-system">Camera coordinate system</h3>

<div class="img_row">
    <img class="col three" src="/assets/img/research/cv/world_camera_coord_system.png" alt="world camera coordinate system" title="world camera coordinate system" />
</div>

<p>The center of projection <script type="math/tex">e</script> is the origin of coordinate system <script type="math/tex">uvw</script>. Let <script type="math/tex">\vec{g}</script> is the optical axis, also the gaze direction, so the optical axis is</p>

<p>\[\vec{w}=-\frac{\vec{g}}{|\vec{g}|}\]</p>

<p>In order to determine <script type="math/tex">\vec{u}</script> and <script type="math/tex">\vec{v}</script>, we first define the “up” vector <script type="math/tex">\vec{t}</script> as <script type="math/tex">(0, 1, 0)</script>. Then, <script type="math/tex">\vec{u}</script> is perpendicular to both <script type="math/tex">\vec{w}</script> and <script type="math/tex">\vec{t}</script>, and <script type="math/tex">\vec{v}</script> is perpendicular to <script type="math/tex">\vec{w}</script> and <script type="math/tex">\vec{u}</script>.</p>

<p>\[\vec{u}=\frac{\vec{t} \times \vec{w}}{|\vec{t} \times \vec{w}|}\]
\[\vec{v} = \vec{w} \times \vec{u}\]</p>

<p>We can define a <strong>camera coordinate system</strong> based on these three vectors, where 3D points are represented w.r.t. the camera’s position and orientation.</p>

<p>Now we know how to represent the camera coordinate system within the world coordinate system, we need to explicitly formulate the rigid transformation between these two coordinate systems.</p>

<p>It’s not hard to show that for a point <script type="math/tex">\mathbf{X_c}(X_c, Y_c, Z_c)</script> in the camera coordinate system, the corresponding point in the world coordinate system is</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{align}
\mathbf{X}_w &= \vec{e}+X_c \vec{u} + Y_c \vec{v} + Z_c \vec{w}\\
&= [\vec{u} | \vec{v} | \vec{w}]\mathbf{X}_c + \vec{e}\\
&= R_{cw}X_c + \vec{e}
\end{align} %]]></script>

<p>We also need to find the inverse transformation, i.e., from world to camera coordinates. We note that that matrix <script type="math/tex">R_{cw}</script> is orthonomal. Because <script type="math/tex">\vec{u}, \vec{v}, \vec{w}</script> are unit vector that are perpendicular to one another. Therefore, <script type="math/tex">R_{cw}^T R_{cw}=R_{cw}R_{cw}^T=I</script>. The inverse matrix <script type="math/tex">R_{wc}</script> is</p>

<script type="math/tex; mode=display">\begin{align}
\mathbf{X}_c = R_{cw}^T(\mathbf{X}_w - \vec{e})
\end{align}</script>

<p>In inhomogeneous coordinates, we have
<script type="math/tex">R_{cw}=[\vec{u} | \vec{v} | \vec{w}]</script>
, and 
<script type="math/tex">R_{wc}=\left[\begin{matrix} \vec{u}^T \\ \vec{v}^T \\ \vec{w}^T \end{matrix}\right]</script></p>

<p>In homogeneous coordinates, we have
<script type="math/tex">% <![CDATA[
\hat{R}_{cw}=\left[\begin{matrix} R_{cw} & \vec{e} \\ \vec{0}^T & 1 \end{matrix}\right] %]]></script>
, and 
<script type="math/tex">% <![CDATA[
\hat{R}_{wc}=\left[\begin{matrix} R_{wc} & -R_{wc}\vec{e} \\ \vec{0}^T & 1 \end{matrix}\right] %]]></script></p>

  </article>

  

</div>

      </div>
    </div>

    <footer>

  <div class="wrapper">
    &copy; Copyright 2017 Kai Wu.
    Powered by <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank">GitHub Pages</a>.

    
  </div>

</footer>


    <!-- Load jQuery -->
<script src="//code.jquery.com/jquery-1.12.4.min.js"></script>

<!-- Load Common JS -->
<script src="//imkaywu.github.io/assets/js/common.js"></script>





<!-- Include custom icon fonts -->
<link rel="stylesheet" href="//imkaywu.github.io/assets/css/font-awesome.min.css">
<link rel="stylesheet" href="//imkaywu.github.io/assets/css/academicons.min.css">

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-XXXXXXXX-X', 'auto');
ga('send', 'pageview');
</script>


  </body>

</html>
